<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Main</title>
</h:head>

<h:body>
    <div style="padding-right: 20px; float: left">
        <h:form>
            <p:tree value="#{treeIconView.root}"
                    var="elementDTO">
                <p:treeNode type="folder"
                            expandedIcon="pi pi-folder-open"
                            collapsedIcon="pi pi-folder">
                    <h:outputText value="#{elementDTO.name}"/>
                </p:treeNode>
                <p:treeNode type="file"
                            icon="pi pi-file">
                    <p:commandButton value="#{elementDTO.name}"
                                     styleClass="ui-button-flat"
                                     update="tabeElement"
                                     actionListener="#{tabbedView.addElementToList(elementDTO)}"
                    />
                </p:treeNode>
            </p:tree>
        </h:form>
    </div>
    <div>
        <p:tabView value="#{tabbedView.elements}"
                   id="tabeElement"
                   var="elementDTO"
                   activeIndex="#{tabbedView.indexLastElement()}">
            <p:ajax event="tabClose"
                    listener="#{tabbedView.onTabClose}"/>
            <p:tab title="#{elementDTO.name}"
                   closable="true">

                <p:outputLabel value="#{areaTwoView.content(elementDTO)}"/>

                <div class="card" style="padding-top: 15px">
                    <h:form>
                        <p:growl id="message" showDetail="true"/>
                        <p:commandButton value="show" action="#{buttonPressView.addMessage}"
                                         styleClass="p-mr-2"
                                         icon="pi pi-check">
                            <p:confirm header="Dialog window" message="#{buttonPressView.content(elementDTO)}"
                                       icon="pi pi-exclamation-triangle"
                            />
                        </p:commandButton>
                        <p:confirmDialog global="true"
                                         showEffect="fade"
                                         hideEffect="fade"
                                         responsive="true"
                                         width="500">
                        </p:confirmDialog>
                    </h:form>
                </div>

            </p:tab>
        </p:tabView>
    </div>
</h:body>
</html>